{"version":3,"sources":["../ragerange.js"],"names":[],"mappings":"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","file":"production.js","sourcesContent":["var rage = new RageRange();\n\nfunction RageRange () {\n    var elements = document.getElementsByClassName('ragerange');\n    Array.prototype.forEach.call(elements, function(el) {\n\n        // SETTINGS\n\n        range_setup = {\n            startPosition: el.children[0].value,\n            range: {max:el.children[0].max, min:el.children[0].min},\n            labels: true,\n            input: true,\n            me: null,\n            step: el.children[0].step,\n            anchors: {},//{\"Division\": 0, \"Balls\": 25, \"Konto\":50, \"Origin\":75, \"balls\":100},\n            bounceBack: false,\n            hook: function(x){\n                console.log(x);\n            }\n        };\n\n        // CREATE SLIDER CUSTOM RANGE COMPONENT\n\n        var uiSliderContainer = document.createElement('div');\n        uiSliderContainer.className = 'slider-container';\n\n        var uiSlider = document.createElement('div');\n        uiSlider.className = 'slider';\n\n        var uiRange = document.createElement('div');\n        uiRange.className = 'slider-range';\n\n        var uiHandle = document.createElement('span');\n        uiHandle.className = 'slider-handle';\n\n        var iDivisions = (range_setup.range.max / range_setup.step) - 1;\n        var i = 1;\n        while (i <= iDivisions) {\n            var uiDivisions = document.createElement('span');\n            uiDivisions.className = 'divisions';\n            uiSlider.appendChild(uiDivisions);\n            i++;\n        }\n\n        uiSlider.appendChild(uiHandle);\n        uiSlider.appendChild(uiRange);\n        uiSliderContainer.appendChild(uiSlider);\n        el.appendChild(uiSliderContainer);\n\n\n        if (range_setup.labels) {\n            uiSlider.className = 'slider with-labels';\n        }\n        if (range_setup.input) {\n            var uiManualInput = document.createElement('input');\n            uiManualInput.type = 'text';\n            uiManualInput.className = 'input';\n            uiManualInput.value = range_setup.startPosition;\n\n            uiSliderContainer.className = 'slider-container with-input';\n            uiSliderContainer.appendChild(uiManualInput);\n        }\n\n        // SETTING UP VARIABLES\n\n        var uiCustRange = document.getElementsByClassName('custom-range')[0];\n\n        var startPosition = range_setup.startPosition;\n        var currentPosition = 0;\n        var previousPosition = null;\n        var scalePosition = null;\n        var rangeMin = parseInt(range_setup.range.min);\n        var rangeMax = parseInt(range_setup.range.max);\n        var widthMax = uiHandle.offsetParent.clientWidth;\n\n        function initiate () {\n\n            // SET UP DEFAULTS\n\n            var division = 100 / (range_setup.range.max / range_setup.step);\n            var size = 100 / (range_setup.range.max / range_setup.startPosition);\n\n            uiSlider.dataset.valueFirst = range_setup.range.min;\n            uiSlider.dataset.valueLast = range_setup.range.max;\n            uiRange.style.width = size.toString() + \"%\";\n            uiHandle.style.left = size.toString() + \"%\";\n\n            var divisions = document.getElementsByClassName('divisions');\n\n            var i = 1;\n            Array.prototype.forEach.call(divisions, function(el) {\n                el.style.left = i * division.toString() + \"%\";\n                el.dataset.value = i * range_setup.step;\n                i++;\n            });\n        }\n\n        function mouseUp(event) {\n            window.removeEventListener('mousemove', divMove, true);\n            currentPosition = event.clientX - uiHandle.offsetLeft;\n            previousPosition = null;\n\n            if(range_setup.bounceBack) {\n                uiHandle.style.left = getPosition(startPosition);\n                range_setup.hook(startPosition);\n            }\n\n            if(Object.keys(range_setup.anchors).length)\n            {\n                var cursorPosition =  event.clientX - currentPosition;\n                var regulatorPosition = (cursorPosition / uiHandle.offsetParent.clientWidth) * 100;\n\n                uiHandle.style.left = Math.max(0, Math.min(regulatorPosition, 100)) + \"%\";\n                uiRange.style.width = Math.max(0, Math.min(regulatorPosition, 100)) + \"%\";\n                previousPosition = cursorPosition;\n\n                var procent = Math.max(0, Math.min(regulatorPosition, 100));\n                var position = rangeMin+(rangeMax-rangeMin)*procent/100;\n\n                var currentAnchor = range_setup.anchors[Object.keys(range_setup.anchors)[0]];\n                var currentMin = Math.abs(position-range_setup.anchors[Object.keys(range_setup.anchors)[0]]);\n\n                for(var x in range_setup.anchors) {\n                    if(Math.abs(position-range_setup.anchors[x]) < currentMin) {\n                        currentAnchor = range_setup.anchors[x];\n                        currentMin = Math.abs(position-range_setup.anchors[x]);\n                    }\n                }\n                console.log(getPosition(currentAnchor));\n                uiHandle.style.left = getPosition(currentAnchor);\n                range_setup.hook(currentAnchor);\n            }\n\n        }\n\n        function mouseDown(event) {\n            currentPosition = event.clientX - uiHandle.offsetLeft;\n            window.addEventListener('mousemove', divMove, true);\n            return false;\n        }\n\n        function divMove(event) {\n            var cursorPosition =  event.clientX - currentPosition;\n            var regulatorPosition = (cursorPosition / uiHandle.offsetParent.clientWidth) * 100;\n\n            uiHandle.style.left = Math.max(0, Math.min(regulatorPosition, 100)) + \"%\";\n            uiRange.style.width = Math.max(0, Math.min(regulatorPosition, 100)) + \"%\";\n            previousPosition = cursorPosition;\n\n            var procent = Math.max(0, Math.min(regulatorPosition, 100));\n            var position = rangeMin+(rangeMax-rangeMin)*procent/100;\n\n            if(position != scalePosition) {\n                uiCustRange.value = Math.round(position).toString();\n                if (range_setup.input) {\n                    document.getElementsByClassName('input')[0].value = Math.round(position).toString();\n                }\n            }\n\n            scalePosition = position;\n        }\n\n        function getPosition(position) {\n            var procent = ((position - rangeMin)/(rangeMax-rangeMin))*100;\n            procent = Math.max(0, Math.min(100, procent));\n            return (procent/100)*widthMax;\n        }\n\n        initiate();\n\n        document.getElementsByClassName('slider-handle')[0].addEventListener(\"mousedown\", mouseDown, false);\n        window.addEventListener(\"mouseup\", mouseUp, false);\n\n    });\n}"]}